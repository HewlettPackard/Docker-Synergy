(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{183:function(e,n,t){"use strict";t.r(n);var o=t(0),a=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"installing-the-client-bundle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-client-bundle","aria-hidden":"true"}},[e._v("#")]),e._v(" Installing the client bundle")]),t("p",[e._v("A convenience playbook is provided to install and apply the client bundle on the Ansible controller. To run the playbook:")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# cd ~/Docker-Synergy\n# ansible-playbook -i hosts playbooks/install_client_bundle.yml --vault-password-file .vault_pass\n")])]),t("p",[e._v("The client bundle is downloaded to "),t("code",[e._v("~/certs.<<ucp_instance>>.<<ucp_username>>")]),e._v(" on the Ansible controller where "),t("code",[e._v("ucp_instance")]),e._v(" will\nbe specific to the cluster you are running against, for example, "),t("code",[e._v("hpe2-ucp01")]),e._v(" and the "),t("code",[e._v("ucp-username")]),e._v(" is typically "),t("code",[e._v("admin")]),e._v(".")]),t("p",[e._v("The playbook downloads the client bundle, but does not configure it for use. Change to the download folder\nand execute "),t("code",[e._v('eval "$(<env.sh)"')])]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('# cd ~/certs.hpe2-ucp01.admin\n# eval "$(<env.sh)"\n')])]),t("p",[e._v("Test the configuration by again running the "),t("code",[e._v("kubectl version")]),e._v(" command - this time, it should now report\nthe server  version as well as the client version:")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('# kubectl version\n\nClient Version: version.Info{Major:"1", Minor:"11", GitVersion:"v1.11.5", GitCommit:"753b2dbc622f5cc417845f0ff8a77f539a4213ea", GitTreeState:"clean", BuildDate:"2018-11-26T14:41:50Z", GoVersion:"go1.10.3", Compiler:"gc", Platform:"linux/amd64"}\nServer Version: version.Info{Major:"1", Minor:"11+", GitVersion:"v1.11.5-docker-1", GitCommit:"d512ba512d0de40cd80258f480ff66bf71f2d8a4", GitTreeState:"clean", BuildDate:"2018-12-03T19:55:14Z", GoVersion:"go1.10.3", Compiler:"gc", Platform:"linux/amd64"}\n')])]),t("p",[e._v("More information on the client bundle is available at "),t("a",{attrs:{href:"https://docs.docker.com/ee/ucp/user-access/cli/#download-client-certificates-by-using-the-rest-api",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/ee/ucp/user-access/cli/#download-client-certificates-by-using-the-rest-api")])])])}],!1,null,null,null);n.default=a.exports}}]);