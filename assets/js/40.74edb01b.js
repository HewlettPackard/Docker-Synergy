(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{207:function(e,a,t){"use strict";t.r(a);var r=t(0),s=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"protecting-sensitive-information"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#protecting-sensitive-information","aria-hidden":"true"}},[e._v("#")]),e._v(" Protecting sensitive information")]),t("p",[e._v("A vault file is used to protect any sensitive variables that should not appear in clear text in your "),t("code",[e._v("group_vars/all/vars")]),e._v(" file. The vault file will be encrypted and will require a password to be entered before it can be read or updated.")]),t("p",[e._v("A sample vault file is provided named "),t("code",[e._v("group_vars/all/vault.sample")]),e._v(" that you can use as a model for your own vault file. To create a vault, you create a new file called "),t("code",[e._v("group_vars/all/vault")]),e._v(" and add entries similar to:")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("---\ndocker_ee_url: 'your_url_here'\nvcenter_password: 'xxxx'\nvm_password: 'xxxx'\nsimplivity_password: 'xxxx'\nucp_password: 'zzzz'\nwin_password: 'yourpass'\nsysdig_access_key: 'enter_sysdig_access_key'\nrhn_orgid: \"YourOrgId\"\nrhn_key: \"YourActivationKey\"\nredhat_user: 'YourUserName'\nredhat_pass: 'YourPassword'\n#password for the splunk universal forwarder. Must meet password complexiy requirement (see splunk donc)\nsplunk_uf_password: 'YourPa$$word12'\noneview_config_password: 'EnterOneViewPa$$word'\n#backup_passphrase must be at least 12 characters long\nbackup_passphrase: 'EnterYourSecretpassphrase123'\n\n")])]),t("p",[t("code",[e._v("rhn_orgid")]),e._v(" and "),t("code",[e._v("rhn_key")]),e._v(" are the credentials needed to subscribe the virtual machines with Red Hat Customer Portal. If these are not supplied, the playbooks will fallback to using the "),t("code",[e._v("redhat_user")]),e._v("/"),t("code",[e._v("redhat_pass")]),e._v(" combination instead. For more information regarding activation keys, see the following URL: "),t("a",{attrs:{href:"https://access.redhat.com/articles/1378093",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://access.redhat.com/articles/1378093")])]),t("p",[e._v("To encrypt the vault you need to run the following command:")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# ansible-vault encrypt group_vars/all/vault\n")])]),t("p",[e._v("You will be prompted for a password that will decrypt the vault when required. You can update the values in your vault by running:")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# ansible-vault edit group_vars/all/vault\n")])]),t("p",[e._v("In order for Ansible to be able to read the vault, you need to specify a file where the password is stored, for instance, in a file called "),t("code",[e._v(".vault_pass")]),e._v(". Once the file is created, take the following precautions to avoid illegitimate access to this file:")]),t("ol",[t("li",[e._v("Change the permissions so only "),t("code",[e._v("root")]),e._v(" can read it using "),t("code",[e._v("# chmod 600 .vault_pass")])]),t("li",[e._v("Add the file to your "),t("code",[e._v(".gitignore")]),e._v(" file if you are using a Git repository to manage your playbooks.")])]),t("p",[e._v("When you use a vault, you must specify the password file every time on the command line, for example,")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# ansible-playbook -i hosts site.yml --vault-password-file .vault_pass\n")])])])}],!1,null,null,null);a.default=s.exports}}]);