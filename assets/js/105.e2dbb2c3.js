(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{114:function(e,t,a){"use strict";a.r(t);var s=a(0),o=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"deploying-sysdig-monitoring-on-kubernetes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploying-sysdig-monitoring-on-kubernetes","aria-hidden":"true"}},[e._v("#")]),e._v(" Deploying Sysdig monitoring on Kubernetes")]),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[e._v("#")]),e._v(" Prerequisites")]),a("ul",[a("li",[e._v("Install the "),a("code",[e._v("kubectl")]),e._v(" binary on your Ansible box")]),a("li",[e._v("Install the UCP Client bundle for the "),a("code",[e._v("admin")]),e._v(" user")]),a("li",[e._v("Confirm that you can connect to the cluster by running a test command, for example, "),a("code",[e._v("kubectl get nodes")])]),a("li",[e._v("Ensure that you have configured the required variables, as described in the section "),a("code",[e._v("Sysdig configuration for Kubernetes")]),e._v(". For example, you add the relevant variables in the "),a("code",[e._v("group_vars/all/vars")]),e._v(" file.")])]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    sysdig_collector: 'collector.sysdigcloud.com'\n    sysdig_collector_port: '6666'\n    sysdig_tags: 'location:Enter city,role:Enter role,owner:Customer name'\n    k8s_cluster: 'ucp_hpe2-ucp.cloudra.local'\n")])]),a("p",[e._v("You should add the access key to the encrypted "),a("code",[e._v("group_vars/all/vault")]),e._v(" using the command "),a("code",[e._v("ansible-vault edit group_vars/all/vault")]),e._v(".")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sysdig_access_key: '10****97-9160-****-9061-84bfd0f****0'    \n")])]),a("h2",{attrs:{id:"running-the-playbook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-the-playbook","aria-hidden":"true"}},[e._v("#")]),e._v(" Running the playbook")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# cd Docker-Synergy\n# ansible-playbook -i hosts playbooks/sysdig-k8s-rbac.yml --vault-password-file .vault_pass\n")])]),a("p",[e._v("Using the Sysdig software as a solution (SaaS) website "),a("a",{attrs:{href:"https://app.sysdigcloud.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://app.sysdigcloud.com")]),e._v(", you are able to view, analyze and inspect various different dashboards. Initially, you will just see the monitoring information for the infrastructure itself. Deploy a sample application, as detailed in the section "),a("code",[e._v("Kubernetes guestbook example with Redis")]),e._v(", and use the Sysdig solution to analyze the different facets of the deployed application.")])])}],!1,null,null,null);t.default=o.exports}}]);