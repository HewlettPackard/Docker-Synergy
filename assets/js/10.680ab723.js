(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{184:function(e,t,a){e.exports=a.p+"assets/img/bm-rhel-boot-params.66e270b2.png"},185:function(e,t,a){e.exports=a.p+"assets/img/bm-rhel-customizing-disk-partitions.922d6b2d.png"},186:function(e,t,a){e.exports=a.p+"assets/img/bm-rhel-network-hostname.050f0ce7.png"},325:function(e,t,a){"use strict";a.r(t);var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"rhel-golden-images"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rhel-golden-images","aria-hidden":"true"}},[this._v("#")]),this._v(" RHEL Golden Images")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"os-installation-and-configuration-with-hpe-synergy-image-streamer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#os-installation-and-configuration-with-hpe-synergy-image-streamer","aria-hidden":"true"}},[this._v("#")]),this._v(" OS installation and configuration with HPE Synergy Image Streamer")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[e._v("Download the artifacts for HPE Image Streamer from the HPE GitHub site.")]),e._v(" "),a("li",[e._v("Add the artifact bundles to HPE Image Streamer.")]),e._v(" "),a("li",[e._v("Prepare a compute module for the installation of the Operating System.")]),e._v(" "),a("li",[e._v("Create a Server Profile.")]),e._v(" "),a("li",[e._v("Install and customize the Operating System.")]),e._v(" "),a("li",[e._v("Capture a Golden Image from the compute module.")]),e._v(" "),a("li",[e._v("Deploy the hosts.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"download-the-artifacts-for-hpe-synergy-image-streamer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#download-the-artifacts-for-hpe-synergy-image-streamer","aria-hidden":"true"}},[this._v("#")]),this._v(" Download the artifacts for HPE Synergy Image Streamer")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"add-the-artifact-bundles-to-hpe-image-streamer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-the-artifact-bundles-to-hpe-image-streamer","aria-hidden":"true"}},[this._v("#")]),this._v(" Add the artifact bundles to HPE Image Streamer")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("From within the HPE Image Streamer interface navigate to the Artifact Bundles page.")]),this._v(" "),t("li",[this._v("From the Actions menu, Add the downloaded RHEL artifact bundle. If not already present, add the sample foundation bundle.")]),this._v(" "),t("li",[this._v("From the Actions menu, select Extract to extract the artifacts from each downloaded bundle.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"prepare-the-compute-module-for-the-installation-of-the-operating-system"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prepare-the-compute-module-for-the-installation-of-the-operating-system","aria-hidden":"true"}},[this._v("#")]),this._v(" Prepare the compute module for the installation of the Operating System")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Attach a Red Hat Enterprise Linux 7.* Server ISO to the iLO of a worker node host by selecting the Action menu and then Launch Console.")]),this._v(" "),t("li",[this._v("When the console launches, select Virtual Drives and then Image File CD-ROM/DVD. Browse to the location where your ISO resides and select\nit.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"create-a-server-profile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-a-server-profile","aria-hidden":"true"}},[this._v("#")]),this._v(" Create a Server Profile")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[e._v("Use a Server Profile Template  to deploy a new Server Profile to the worker node host you attached the ISO to in the\nprior step.")]),e._v(" "),a("li",[e._v("Select the new "),a("code",[e._v("Server Profile")]),e._v(" and choose "),a("code",[e._v("Edit")]),e._v(".")]),e._v(" "),a("li",[e._v("Under the OS Deployment section, choose "),a("code",[e._v("HPE-Create Empty Volume")]),e._v(" and enter a Volume Size of "),a("code",[e._v("30720 MB")]),e._v(".")]),e._v(" "),a("li",[e._v("Validate the network and SAN connections exist on the host.")]),e._v(" "),a("li",[e._v("Ensure that, under boot settings,  Boot mode is set to "),a("code",[e._v("UEFI optimized")]),e._v(" and that the Primary boot device is "),a("code",[e._v("Hard disk")]),e._v(".")]),e._v(" "),a("li",[e._v("Click "),a("code",[e._v("OK")]),e._v(". It will take some time for the profile to create.")]),e._v(" "),a("li",[e._v("While waiting on profile creation to complete, select the "),a("code",[e._v("Actions")]),e._v(" menu and then click "),a("code",[e._v("Launch Console")]),e._v(". Click "),a("code",[e._v("Allow")]),e._v(" to launch the console.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"install-and-customize-the-operating-system"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-and-customize-the-operating-system","aria-hidden":"true"}},[this._v("#")]),this._v(" Install and customize the Operating System")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ol",[r("li",[r("p",[e._v("After profile creation is completed, power on the server. From the console window, select "),r("code",[e._v("Power Switch")]),e._v(" and then "),r("code",[e._v("Momentary Press")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("When the screen shown in the following figure appears, select "),r("code",[e._v("Install Red Hat Enterprise Linux 7.*")]),e._v(" and then hit the letter "),r("code",[e._v("‘e’")]),e._v(" on the keyboard.")]),e._v(" "),r("p",[r("img",{attrs:{src:a(184),alt:' "Selecting OS to install"'}})]),e._v(" "),r("p",[r("strong",[e._v("Figure.")]),e._v(" Selecting OS to install")])]),e._v(" "),r("li",[r("p",[e._v("Append the following to the install kernel boot parameter: "),r("code",[e._v("rd.iscsi.ibft=1")])])]),e._v(" "),r("li",[r("p",[e._v("Type "),r("code",[e._v("Ctrl-x")]),e._v(" to continue the boot process.")])]),e._v(" "),r("li",[r("p",[e._v("When the installer screen appears, insure you select your local language, set the date and time,\nkeyboard layout and language support. When done, click "),r("code",[e._v("Installation Destination")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("At the Installation Destination screen, select "),r("code",[e._v("Add a disk…")]),e._v(" and then choose the "),r("code",[e._v("30 GiB")]),e._v(" volume from HPE Image Streamer. Select\n"),r("code",[e._v("Done")]),e._v(" once you have chosen this disk.")])]),e._v(" "),r("li",[r("p",[e._v("Under "),r("code",[e._v("Other Storage Options")]),e._v(", select the radio button for "),r("code",[e._v("I will configure partitioning")]),e._v(" and then click "),r("code",[e._v("Done")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("At the "),r("code",[e._v("Manual Partitioning")]),e._v(" screen, select "),r("code",[e._v("Click here to create them automatically")]),e._v(". This will display a new Manual Partitioning screen.")])]),e._v(" "),r("li",[r("p",[e._v("Highlight the "),r("code",[e._v("/boot")]),e._v(" partition and on the right side of the page select "),r("code",[e._v("ext4")]),e._v(" as the "),r("code",[e._v("File System")]),e._v(". Click the "),r("code",[e._v("Update Settings")]),e._v(" button.")])]),e._v(" "),r("li",[r("p",[e._v("Highlight the "),r("code",[e._v("/")]),e._v(" partition and on the right side of the screen, reduce the "),r("code",[e._v("Desired Capacity")]),e._v(" to "),r("code",[e._v("8 GiB")]),e._v(" and then choose "),r("code",[e._v("ext4")]),e._v(" as the File System. Click the "),r("code",[e._v("Update Settings")]),e._v(" button.")])]),e._v(" "),r("li",[r("p",[e._v("Highlight the "),r("code",[e._v("swap")]),e._v(" partition and on the right side of the screen, change "),r("code",[e._v("Desired Capacity")]),e._v(" from "),r("code",[e._v("3000 MiB")]),e._v(" to "),r("code",[e._v("4092 MiB")]),e._v(".\nClick the "),r("code",[e._v("Update Settings")]),e._v(" button.")])]),e._v(" "),r("li",[r("p",[e._v("Click the "),r("code",[e._v("“+”")]),e._v(" button below the list of partitions. For "),r("code",[e._v("Mount Point")]),e._v(", select "),r("code",[e._v("/var")]),e._v(" from the dropdown and\nleave the "),r("code",[e._v("Desired Capacity")]),e._v(" blank. This will allow the "),r("code",[e._v("/var")]),e._v(" partition to use all remaining space.")])]),e._v(" "),r("li",[r("p",[e._v("At the "),r("code",[e._v("Manual Partitioning")]),e._v(" screen, highlight the "),r("code",[e._v("/var")]),e._v(" partition and choose "),r("code",[e._v("/ext4")]),e._v(" for the "),r("code",[e._v("File System")]),e._v(". Click "),r("code",[e._v("Update Settings")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("The screen should appear as shown in the following figure.")]),e._v(" "),r("p",[r("img",{attrs:{src:a(185),alt:' "Manual partitioning"'}})]),e._v(" "),r("p",[r("strong",[e._v("Figure.")]),e._v(" Manual partitioning")])]),e._v(" "),r("li",[r("p",[e._v("Once you have validated the file systems and partition sizes are correct, click "),r("code",[e._v("Done")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("When prompted, click "),r("code",[e._v("Accept Changes")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Click the "),r("code",[e._v("Network & Hostname")]),e._v(" link. At the resulting screen, highlight "),r("code",[e._v("Ethernet (ens3f4)")]),e._v(" and set it to "),r("code",[e._v("‘ON’")]),e._v(" in the descriptor screen as in the following figure. Click "),r("code",[e._v("Done")]),e._v(".")]),e._v(" "),r("p",[r("img",{attrs:{src:a(186),alt:' "Network & Hostname"'}})]),e._v(" "),r("p",[r("strong",[e._v("Figure.")]),e._v(" Network & Hostname")])]),e._v(" "),r("li",[r("p",[e._v("Click "),r("code",[e._v("Begin Installation")]),e._v(". Set a root password for the host. Do not configure extra users. Click "),r("code",[e._v("Done")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Once the OS installation is complete you can reboot the host. Log on at the iLO console when the host becomes active again.")])]),e._v(" "),r("li",[r("p",[e._v("Configure a temporary hostname for the system")])]),e._v(" "),r("li",[r("p",[e._v("Configure your networking and ensure you have connectivity.")])]),e._v(" "),r("li",[r("p",[e._v("Register the host with Red Hat by running the following command. Enter the username and password when prompted.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# subscription-manager register\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Use Red Hat subscription manager to register your system to give you access to the official Red Hat repositories. Use the subscription-manager register command as follows.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# subscription-manager auto-attach \n")])])])]),e._v(" "),r("li",[r("p",[e._v("Enable the required repos:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# subscription-manager repos \\\n--enable=rhel-7-server-rpms \\\n--enable=rhel-7-server-extras-rpms \n")])])])]),e._v(" "),r("li",[r("p",[e._v("Update the host by running the following command.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# yum update\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Copy the SSH public key from your Ansible box. This will allow your Ansible node to SSH without the need for a password to all the bare metal REHL nodes.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# ssh-copy-id root@<IP of your bare metal node>\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"27"}},[t("li",[this._v("Gracefully shut down the host.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# shutdown -h now\n")])])])}],i=a(0),o=Object(i.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),a("p",[e._v("The bare metal RHEL worker nodes will be deployed and customized using HPE Synergy Image Streamer. This section outlines the steps required to install the\nhost. At a high level, these steps can be described as:")]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),a("p",[e._v("Red Hat Enterprise Linux bundles for HPE Image Streamer may be downloaded from\n"),a("a",{attrs:{href:"https://github.com/HewlettPackard/image-streamer-rhel/tree/V4.1/artifact-bundles/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/HewlettPackard/image-streamer-rhel/tree/V4.1/artifact-bundles/"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Sample foundation artifact bundles should be downloaded from\n"),a("a",{attrs:{href:"https://github.com/HewlettPackard/image-streamer-tools/tree/v4.0/foundation/artifact-bundles",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/HewlettPackard/image-streamer-tools/tree/v4.0/foundation/artifact-bundles"),a("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._m(13),e._v(" "),e._m(14)])},r,!1,null,null,null);t.default=o.exports}}]);