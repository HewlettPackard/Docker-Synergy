<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HPE Enterprise Containers | Editing the inventory</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/Docker-Synergy/assets/css/styles.ee35edd7.css" as="style"><link rel="preload" href="/Docker-Synergy/assets/js/app.ee35edd7.js" as="script"><link rel="preload" href="/Docker-Synergy/assets/js/39.fd6edc3e.js" as="script"><link rel="prefetch" href="/Docker-Synergy/assets/js/1.a662ab65.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/10.4c39bd31.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/100.9d3cb3ad.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/101.81e80351.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/102.8ff87bc4.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/103.4288d928.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/104.1669c1ef.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/105.8deecb28.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/106.374e7d8b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/107.77a72feb.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/108.f1692157.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/109.2157b8bc.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/11.142bdd5e.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/12.3d1bb336.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/13.eaf1f5e5.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/14.67eeb52a.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/15.e4ed7cbf.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/16.03b8c558.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/17.098005a1.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/18.add49489.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/19.7f2463e0.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/2.912071f3.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/20.f8e81d75.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/21.aad9ccee.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/22.d4ee645e.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/23.96df0793.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/24.7686224b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/25.69ba7ead.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/26.565cf8a7.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/27.c5be63e7.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/28.c806398a.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/29.2f0c780b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/3.6149c576.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/30.eacad12f.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/31.33e9d24d.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/32.5114e800.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/33.a56f58e4.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/34.69c22b24.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/35.7d24a516.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/36.7024c48b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/37.86830470.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/38.ee4ad1bb.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/4.bfc6fbcc.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/40.74edb01b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/41.f54305c5.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/42.4ad275c5.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/43.6a0e46a5.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/44.72bcc252.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/45.336c7970.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/46.8f792805.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/47.27bc75e5.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/48.9d6aa0a0.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/49.a1ec324b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/5.375b34aa.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/50.7fc22e38.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/51.3d21e3ea.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/52.bad378fc.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/53.e834cb39.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/54.8c4ff143.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/55.b8b3aaf5.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/56.78d8c152.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/57.ac385698.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/58.aad9a945.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/59.e3b3276b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/6.29c1dc8f.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/60.51804c36.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/61.4b2c334b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/62.635070da.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/63.d4315fdb.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/64.372fe538.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/65.a4e0c96c.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/66.5fb73d9e.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/67.050ab3d1.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/68.673c8830.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/69.995d23bf.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/7.4ec2e9eb.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/70.c05b6e4b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/71.425ae41e.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/72.6c491f7e.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/73.8b6fd98b.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/74.dad74952.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/75.ad9ac462.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/76.4a5a2098.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/77.e6b51805.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/78.35e850e7.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/79.41fdca01.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/8.9cf28a27.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/80.f86e2e3a.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/81.d9320f6a.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/82.f06c6016.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/83.13318e32.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/84.18ee5824.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/85.4994a054.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/86.2c52be61.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/87.5993fe46.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/88.3e4b0be6.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/89.7a6acd88.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/9.7bba5a1f.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/90.fc0dbb0d.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/91.bdf72ea4.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/92.dfd1068f.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/93.ee44fdde.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/94.f0b0eaeb.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/95.00be522d.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/96.d2629d4c.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/97.0ffeca6a.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/98.338419ab.js"><link rel="prefetch" href="/Docker-Synergy/assets/js/99.94dba671.js">
    <link rel="stylesheet" href="/Docker-Synergy/assets/css/styles.ee35edd7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/Docker-Synergy/" class="home-link router-link-active"><!----><span class="site-name">
      HPE Enterprise Containers
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/Docker-Synergy/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Docker-Synergy/blog/" class="nav-link">Blog</a></div><a href="https://github.com/HewlettPackard/Docker-Synergy" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Docker-Synergy/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Docker-Synergy/blog/" class="nav-link">Blog</a></div><a href="https://github.com/HewlettPackard/Docker-Synergy" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Introduction</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Release notes</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution overview</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution components</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Preparing the environment</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Configuring the core components</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/Docker-Synergy/config-core/ansible-config.html" class="sidebar-link">Ansible configuration</a></li><li><a href="/Docker-Synergy/config-core/edit-inventory.html" class="active sidebar-link">Editing the inventory</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Docker-Synergy/config-core/edit-inventory.html#control-plane" class="sidebar-link">Control plane</a></li><li class="sidebar-sub-header"><a href="/Docker-Synergy/config-core/edit-inventory.html#worker-nodes" class="sidebar-link">Worker nodes</a></li><li class="sidebar-sub-header"><a href="/Docker-Synergy/config-core/edit-inventory.html#ansible-controller" class="sidebar-link">Ansible controller</a></li><li class="sidebar-sub-header"><a href="/Docker-Synergy/config-core/edit-inventory.html#groups-of-groups" class="sidebar-link">Groups of groups</a></li><li class="sidebar-sub-header"><a href="/Docker-Synergy/config-core/edit-inventory.html#bare-metal-linux-variables" class="sidebar-link">Bare metal Linux variables</a></li><li class="sidebar-sub-header"><a href="/Docker-Synergy/config-core/edit-inventory.html#bare-metal-windows-variables" class="sidebar-link">Bare metal Windows variables</a></li></ul></li><li><a href="/Docker-Synergy/config-core/vmware-config.html" class="sidebar-link">VMware configuration</a></li><li><a href="/Docker-Synergy/config-core/network-config.html" class="sidebar-link">Networking configuration</a></li><li><a href="/Docker-Synergy/config-core/environment-config.html" class="sidebar-link">Environment configuration</a></li><li><a href="/Docker-Synergy/config-core/docker-config.html" class="sidebar-link">Docker configuration</a></li><li><a href="/Docker-Synergy/config-core/orchestrator-config.html" class="sidebar-link">Orchestrator configuration</a></li><li><a href="/Docker-Synergy/config-core/k8s-config.html" class="sidebar-link">Kubernetes configuration</a></li><li><a href="/Docker-Synergy/config-core/edit-vault.html" class="sidebar-link">Protecting sensitive information</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Overview of the playbooks</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying core components</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Post deployment</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Configuring Storage</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Windows VM workers</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying bare metal workers</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Sysdig monitoring</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Splunk</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Prometheus and Grafana on Kubernetes</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Prometheus and Grafana on Docker Swarm</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Backup and restore</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution lifecycle management</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Appendices</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="editing-the-inventory"><a href="#editing-the-inventory" aria-hidden="true" class="header-anchor">#</a> Editing the inventory</h1><p>The inventory is the file named <code>hosts</code> in the <code>~/Docker-Synergy</code> directory. You need to edit this file to describe the configuration you want to deploy.</p><p>The nodes inside the inventory are organized in groups. The groups are defined by brackets and the group names are static so they must not be changed. Other fields (hostnames, specifications, IP addresses…) are edited to match your setup. The groups are as follows:</p><h2 id="control-plane"><a href="#control-plane" aria-hidden="true" class="header-anchor">#</a> Control plane</h2><table><thead><tr><th>Group name</th><th>Purpose</th></tr></thead><tbody><tr><td><code>[ucp_main]</code></td><td>A group containing one single node which will be the main UCP node and swarm leader. Do not add more than one node under this group.</td></tr><tr><td><code>[ucp]</code></td><td>A group containing all the UCP nodes, including the main UCP node. Typically you should have either 3 or 5 nodes under this group.</td></tr><tr><td><code>[dtr_main]</code></td><td>A group containing one single node which will be the first DTR node to be installed. Do not add more than one node under this group.</td></tr><tr><td><code>[dtr]</code></td><td>A group containing all the DTR nodes, including the main DTR node. Typically you should have either 3 or 5 nodes under this group.</td></tr><tr><td><code>[nfs]</code></td><td>A group containing one single node which will be the NFS node. Do not add more than one node under this group.</td></tr><tr><td><code>[logger]</code></td><td>A group containing one single node which will be the logger node. Do not add more than one node under this group.</td></tr></tbody></table><h3 id="load-balancers"><a href="#load-balancers" aria-hidden="true" class="header-anchor">#</a> Load balancers</h3><p>If you are deploying the new <code>active-active</code> load balancers, using floating IPs managed by <code>keepalived</code>:</p><table><thead><tr><th>Group name</th><th>Purpose</th></tr></thead><tbody><tr><td><code>[loadbalancer]</code></td><td>A group containing the UCP, DTR and any worker load balancers you are deploying.</td></tr></tbody></table><p>If you are using the legacy, standalone load balancers:</p><table><thead><tr><th>Group name</th><th>Purpose</th></tr></thead><tbody><tr><td><code>[ucp_lb]</code></td><td>A group containing one single node which will be the load balancer for the UCP nodes. Do not add more than one node under this group.</td></tr><tr><td><code>[dtr_lb]</code></td><td>A group containing one single node which will be the load balancer for the DTR nodes. Do not add more than one node under this group.</td></tr><tr><td><code>[worker_lb]</code></td><td>A group containing one single node which will be the load balancer for the worker nodes. Do not add more than one node under this group.</td></tr><tr><td><code>[lbs]</code></td><td>A group containing all the legacy standalone load balancers. This group will have 3 nodes, also defined individually in the three groups above.</td></tr></tbody></table><p><strong>Note:</strong> Even if you are using the new <code>[loadbalancer]</code> group, you must still declare the legacy group <code>[lbs]</code> and its sub-groups in your inventory.</p><h2 id="worker-nodes"><a href="#worker-nodes" aria-hidden="true" class="header-anchor">#</a> Worker nodes</h2><p>Individual groups facilitate the configuration of worker nodes, depending on the OS and whether the nodes are Virtual Machines or bare metal.</p><table><thead><tr><th>Group name</th><th>Purpose</th></tr></thead><tbody><tr><td><code>[vm_wrk_lnx]</code></td><td>A group containing all the Linux worker nodes on Virtual Machines.</td></tr><tr><td><code>[bm_wrk_lnx]</code></td><td>A group containing all the bare metal Linux worker nodes.</td></tr><tr><td><code>[vm_wrk_win]</code></td><td>A group containing all the Windows worker nodes on Virtual Machines.</td></tr><tr><td><code>[bm_wrk_win]</code></td><td>A group containing all the bare metal Windows worker nodes.</td></tr></tbody></table><h2 id="ansible-controller"><a href="#ansible-controller" aria-hidden="true" class="header-anchor">#</a> Ansible controller</h2><table><thead><tr><th>Group name</th><th>Purpose</th></tr></thead><tbody><tr><td><code>[local]</code></td><td>A group containing the local Ansible host. It contains an entry that should not be modified.</td></tr></tbody></table><h2 id="groups-of-groups"><a href="#groups-of-groups" aria-hidden="true" class="header-anchor">#</a> Groups of groups</h2><p>A number of &quot;groups of groups&quot; simplify the handling of sets of nodes:</p><h3 id="ctlrplane-group"><a href="#ctlrplane-group" aria-hidden="true" class="header-anchor">#</a><code>ctlrplane</code> group</h3><p>All the nodes that make up the control plane:</p><pre class="language-text"><code>[ctlrplane:children]
ucp
dtr
lbs
nfs
loadbalancer
logger
</code></pre><h3 id="worker-group"><a href="#worker-group" aria-hidden="true" class="header-anchor">#</a><code>worker</code> group</h3><p>All the Docker worker nodes:</p><pre class="language-text"><code>[worker:children]
vm_wrk_lnx
vm_wrk_win
bm_wrk_lnx
bm_wrk_win
</code></pre><h3 id="bms-group"><a href="#bms-group" aria-hidden="true" class="header-anchor">#</a><code>bms</code> group</h3><p>All the bare metal nodes:</p><pre class="language-text"><code>[bms:children]
bm_wrk_lnx
bm_wrk_win
</code></pre><h3 id="docker-group"><a href="#docker-group" aria-hidden="true" class="header-anchor">#</a><code>docker</code> group</h3><p>All the nodes running Docker:</p><pre class="language-text"><code>[docker:children]
ucp
dtr
worker
</code></pre><h3 id="linux-box-group"><a href="#linux-box-group" aria-hidden="true" class="header-anchor">#</a><code>linux_box</code> group</h3><p>All the nodes running Linux:</p><pre class="language-text"><code>[linux_box:children]
ctlrplane
vm_wrk_lnx
bm_wrk_lnx
</code></pre><h3 id="windows-box-group"><a href="#windows-box-group" aria-hidden="true" class="header-anchor">#</a><code>windows_box</code> group</h3><p>All the nodes running Windows:</p><pre class="language-text"><code>[windows_box:children]
bm_wrk_win
vm_wrk_win
</code></pre><h1 id="bare-metal-variables"><a href="#bare-metal-variables" aria-hidden="true" class="header-anchor">#</a> Bare metal variables</h1><p>When deploying bare metal worker nodes, you must specify the name of the Server Profile Template (SPT), together
with the names of the two connections for your Ansible controller. If you have multiple server types in your HPE Synergy setup, you will need to set the name of the server profile template for each individual bare metal node, typically on the node decalration in the inventory file itself, rather than using a common name in the group file.</p><h2 id="bare-metal-linux-variables"><a href="#bare-metal-linux-variables" aria-hidden="true" class="header-anchor">#</a> Bare metal Linux variables</h2><p>Variables specific to bare metal Linux worker nodes are specified in <code>group_vars/bm_wrk_lnx.yml</code></p><pre class="language-text"><code>ov_template: 'RedHat760_fcoe_v1.0.2'               
ov_ansible_connection_name: 'ansibleA'     
ov_ansible_redundant_connection_name: ansibleB   

disk2: '/dev/mapper/mpatha' 
disk2_part: '/dev/mapper/mpatha1'
orchestrator: kubernetes # or swarm
fcoe_devices: ['ens3f2','ens3f3']
</code></pre><h2 id="bare-metal-windows-variables"><a href="#bare-metal-windows-variables" aria-hidden="true" class="header-anchor">#</a> Bare metal Windows variables</h2><p>Variables specific to bare metal Windows worker nodes are specified in <code>group_vars/bm_wrk_win.yml</code></p><pre class="language-text"><code>ov_template: 'Windows Worker Node (Gen9)'  
ov_ansible_connection_name: 'Ansible-A'    
ov_ansible_redundant_connection_name: 'Ansible-B'   
</code></pre><h1 id="inventory-group-variables"><a href="#inventory-group-variables" aria-hidden="true" class="header-anchor">#</a> Inventory group variables</h1><p>The following files,  in the <code>group_vars</code> folder, contain variable definitions for each group.</p><table><thead><tr><th>File name</th><th>Purpose</th></tr></thead><tbody><tr><td><code>ucp.yml</code></td><td>Variables defined for all UCP nodes.</td></tr><tr><td><code>dtr.yml</code></td><td>Variables defined for all DTR nodes.</td></tr><tr><td></td><td></td></tr><tr><td><code>nfs.yml</code></td><td>Variables defined for all NFS nodes.</td></tr><tr><td><code>logger.yml</code></td><td>Variables defined for all logger nodes.</td></tr><tr><td></td><td></td></tr><tr><td><code>loadbalancer.yml</code></td><td>Variables defined for all nodes in the [<code>loadbalancer</code>] group.</td></tr><tr><td><code>lbs.yml</code></td><td>Variables defined for all nodes in the legacy [<code>lbs</code>] group.</td></tr><tr><td></td><td></td></tr><tr><td><code>vm_wrk_lnx.yml</code></td><td>Variables defined for all Linux VM worker nodes.</td></tr><tr><td><code>vm_wrk_win.yml</code></td><td>Variables defined for all Windows VM worker nodes.</td></tr><tr><td></td><td></td></tr><tr><td><code>worker.yml</code></td><td>Variables defined for all worker nodes.</td></tr><tr><td><code>windows_box.yml</code></td><td>Variables defined for all Windows nodes.</td></tr><tr><td></td><td></td></tr><tr><td><code>vms.yml</code></td><td>Variables defined for all the VMware Virtual Machines deployed by the solution.</td></tr><tr><td><code>bms.yml</code></td><td>Variables defined for all the bare metal machines deployed by the solution.</td></tr></tbody></table><p>These group files facilitate more sophisticated settings, such as additional drives and additional network interfaces. For example, here is the <code>group_vars/nfs.yml</code> file.</p><pre class="language-text"><code>networks:
  - name:  '{{ vm_portgroup }}'
    ip:  &quot;{{ ip_addr | ipaddr('address') }}&quot;
    netmask: &quot;{{ ip_addr | ipaddr('netmask') }}&quot;
    gateway: &quot;{{ gateway }}&quot;
 
disks_specs:
  - size_gb:  '{{ disk1_size }}'
    type: thin
    datastore: &quot;{{ datastores | random }}&quot;
  - size_gb: '{{ disk2_size }}'
    type: thin
    datastore: &quot;{{ datastores | random }}&quot;
  - size_gb: 10
    type: thin
    datastore: &quot;{{ datastores | random }}&quot;
</code></pre><p>In this example, the size of the first two drives is specified using the values of the variables <code>disk1_size</code> and <code>disk2_size</code> that are declared in the <code>group_vars/all/vars</code> file. This maintains compatibility with <code>hosts</code> inventories from earlier releases of the playbooks. However, it is possible to provide explicit values, depending on your requirements, for the individual UCP, DTR, worker or NFS VMs. For example, you may want to increase the size of the second disk for the NFS VM as this is used to store the DTR images, so the default value of 500GB may not be sufficient to meet your needs.</p><p>In this release, support has been added for configuring a third drive that can be used to hold Kubernetes persistent volume data. The default size (10GB) is set low as the use of the NFS VM for storing persistent volume data is only considered suitable for demo purposes and should not be used in a production environment.</p><p>In the following example, the <code>group_vars/nfs.yml</code> has been modified to configure the NFS VM with a 50GB boot disk, a 500GB drive for DTR images and an 800GB drive for Kubernetes persistent volumes data.</p><pre class="language-text"><code>networks:
  - name:  '{{ vm_portgroup }}'
    ip:  &quot;{{ ip_addr | ipaddr('address') }}&quot;
    netmask: &quot;{{ ip_addr | ipaddr('netmask') }}&quot;
    gateway: &quot;{{ gateway }}&quot;
 
disks_specs:
  - size_gb: 50
    type: thin
    datastore: &quot;{{ datastores | random }}&quot;
  - size_gb: 500
    type: thin
    datastore: &quot;{{ datastores | random }}&quot;
  - size_gb: 800
    type: thin
    datastore: &quot;{{ datastores | random }}&quot;
</code></pre><p>Note: The number of drives and the purpose of each drive is determined by the role of the VM and the specific playbooks that uses the information. The first disk is always used as the boot disk, irrespective of VM role, while the purpose of the second or third disk is specific to the role.</p><h1 id="overriding-group-variables"><a href="#overriding-group-variables" aria-hidden="true" class="header-anchor">#</a> Overriding group variables</h1><p>If you wish to configure your nodes with different specifications to the ones defined by the group, it is possible to declare the same variables at the node level, overriding the group value. For instance, you could have one of your workers with higher specifications by setting:</p><p>In the file <code>vm_wrk_lnx.yml</code>:</p><pre class="language-text"><code>cpus: '4'
ram: '65536'
disk2_size: '500'
</code></pre><p>In the <code>hosts</code> file:</p><pre class="language-text"><code>[vm_wrk_lnx] 
worker01 ip_addr='10.0.0.10/16' esxi_host='esxi1.domain.local' 
worker02 ip_addr='10.0.0.11/16' esxi_host='esxi1.domain.local' 
worker03 ip_addr='10.0.0.12/16' esxi_host='esxi1.domain.local' cpus='16' ram'131072' 
</code></pre><p>In the example above, the <code>worker03</code> Linux VM node would have 4 times more CPU and double the RAM compared to the rest of the Linux VM worker nodes.</p><p>The different variables you can use are described in the table below. They are all mandatory unless otherwise specified.</p><table><thead><tr><th style="text-align:left">Variable</th><th style="text-align:left">Scope</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">ip_addr</td><td style="text-align:left">Node</td><td style="text-align:left">IP address in CIDR format to be given to a node</td></tr><tr><td style="text-align:left">esxi_host</td><td style="text-align:left">Node</td><td style="text-align:left">ESXi host where the node will be deployed. If the cluster is configured with DRS, this option will be overridden</td></tr><tr><td style="text-align:left">cpus</td><td style="text-align:left">Node/Group</td><td style="text-align:left">Number of CPUs to assign to a VM or a group of VMs</td></tr><tr><td style="text-align:left">ram</td><td style="text-align:left">Node/Group</td><td style="text-align:left">Amount of RAM in MB to assign to a VM or a group of VMs</td></tr><tr><td style="text-align:left">disk2_size</td><td style="text-align:left">Node/Group</td><td style="text-align:left">Size of the second disk in GB to attach to a VM or a group of VMs. This variable is only mandatory on Docker nodes (UCP, DTR, worker) and NFS node. It is not required for the logger node or the load balancers.</td></tr></tbody></table></div><div class="content edit-link"><a href="https://github.com/HewlettPackard/Docker-Synergy/edit/devel/docs-src/config-core/edit-inventory.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/Docker-Synergy/config-core/ansible-config.html" class="prev">
          Ansible configuration
        </a></span><span class="next"><a href="/Docker-Synergy/config-core/vmware-config.html">
          VMware configuration
        </a> →
      </span></p></div></div></div></div>
    <script src="/Docker-Synergy/assets/js/app.ee35edd7.js" defer></script><script src="/Docker-Synergy/assets/js/39.fd6edc3e.js" defer></script>
  </body>
</html>
